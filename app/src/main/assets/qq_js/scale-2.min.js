!function(t,e){function i(t,e){var i=t,s=e;return o.transform3d?"translate3d("+i+"px, "+s+"px, 0)":"translate("+i+"px, "+s+"px)"}function s(t,e){return o.touch?t.changedTouches[0][e]:t[e]}var n=t.document,o={transform3d:"WebKitCSSMatrix"in t&&"m11"in new WebKitCSSMatrix,touch:"ontouchstart"in t},a=function(){};a.prototype={init:function(t){var e=this,i=t||{},s=n.querySelectorAll(i.elem+" img"),o=n.querySelector(".imgzoom_pack"),a=n.querySelector(".imgzoom_pack .imgzoom_img img"),r=n.querySelector(".imgzoom_pack .imgzoom_x"),h="";e.buffMove=3,e.buffScale=2,e.finger=!1,e._destroy(),r.addEventListener("click",function(){o.style.cssText="display:none",a.src="",a.style.cssText="",e._destroy(),n.removeEventListener("touchmove",e.eventStop,!1)},!1),o.addEventListener("click",function(){o.style.cssText="display:none",a.src="",a.style.cssText="",e._destroy(),n.removeEventListener("touchmove",e.eventStop,!1)},!1);for(var d=s.length,m=0;m<d;m++)s[m].addEventListener("click",function(){h=this.getAttribute("src"),o.style.cssText="display:block",a.src=h,a.onload=function(){a.style.cssText="margin-top:-"+a.offsetHeight/2+"px",n.addEventListener("touchmove",e.eventStop,!1),e.imgBaseWidth=a.offsetWidth,e.imgBaseHeight=a.offsetHeight,e.addEventStart({wrapX:o.offsetWidth,wrapY:o.offsetHeight,mapX:a.width,mapY:a.height})}},!1)},addEventStart:function(t){var e=this,i=t||{};e.element=n.querySelector(".imgzoom_pack img"),e.wrapX=i.wrapX||0,e.wrapY=i.wrapY||0,e.mapX=i.mapX||0,e.mapY=i.mapY||0,e.outDistY=(e.mapY-e.wrapY)/2,e.width=e.mapX-e.wrapX,e.height=e.mapY-e.wrapY,e.element.addEventListener("touchstart",function(t){e._touchstart(t)},!1),e.element.addEventListener("touchmove",function(t){e._touchmove(t)},!1),e.element.addEventListener("touchend",function(t){e._touchend(t)},!1)},_destroy:function(){this.distX=0,this.distY=0,this.newX=0,this.newY=0},_changeData:function(){this.mapX=this.element.offsetWidth,this.mapY=this.element.offsetHeight,this.width=this.mapX-this.wrapX,this.height=this.mapY-this.wrapY},_touchstart:function(t){var e=this;e.tapDefault=!1,t.preventDefault();var i=t.targetTouches.length;e._changeData(),1==i?(e.basePageX=s(t,"pageX"),e.basePageY=s(t,"pageY"),e.finger=!1):(e.finger=!0,e.startFingerDist=e.getTouchDist(t).dist,e.startFingerX=e.getTouchDist(t).x,e.startFingerY=e.getTouchDist(t).y)},_touchmove:function(t){var e=this;e.tapDefault=!0,t.preventDefault(),t.stopPropagation();var i=t.targetTouches.length;1!=i||e.finger||e._move(t),i>=2&&e._zoom(t)},_touchend:function(t){var e=this;if(!e.finger&&!e.tapDefault){var i=n.querySelector(".imgzoom_pack"),s=n.querySelector(".imgzoom_pack .imgzoom_img img");return i.style.cssText="display:none",s.src="",s.style.cssText="",e._destroy(),void n.removeEventListener("touchmove",e.eventStop,!1)}e._changeData(),e.finger&&(e.distX=-e.imgNewX,e.distY=-e.imgNewY),e.distX>0?e.newX=0:e.distX<=0&&e.distX>=-e.width?(e.newX=e.distX,e.newY=e.distY):e.distX<-e.width&&(e.newX=-e.width),e.reset()},_move:function(t){var e=this,i=s(t,"pageX"),n=s(t,"pageY");e.distX=i-e.basePageX+e.newX,e.distY=n-e.basePageY+e.newY,e.distX>0?e.moveX=Math.round(e.distX/e.buffMove):e.distX<=0&&e.distX>=-e.width?e.moveX=e.distX:e.distX<-e.width&&(e.moveX=-e.width+Math.round((e.distX+e.width)/e.buffMove)),e.movePos(),e.finger=!1},_zoom:function(t){var e=this,i=e.getTouchDist(t).dist/e.startFingerDist,s=Math.round(e.mapX*i);Math.round(e.mapY*i);e.imgNewX=Math.round(e.startFingerX*i-e.startFingerX-e.newX*i),e.imgNewY=Math.round((e.startFingerY*i-e.startFingerY)/2-e.newY*i),s>=e.imgBaseWidth?(e.element.style.width=s+"px",e.refresh(-e.imgNewX,-e.imgNewY,"0s","ease"),e.finger=!0):s<e.imgBaseWidth&&(e.element.style.width=e.imgBaseWidth+"px"),e.finger=!0},movePos:function(){var t=this;if(t.height<0)if(t.element.offsetWidth==t.imgBaseWidth)t.moveY=Math.round(t.distY/t.buffMove);else{var e=Math.round((t.element.offsetHeight-t.imgBaseHeight)/2);t.moveY=-e+Math.round((t.distY+e)/t.buffMove)}else{var i=Math.round((t.wrapY-t.imgBaseHeight)/2),s=t.element.offsetHeight-t.wrapY+Math.round(t.wrapY-t.imgBaseHeight)/2;t.distY>=-i?t.moveY=Math.round((t.distY+i)/t.buffMove)-i:t.distY<=-s?t.moveY=Math.round((t.distY+s)/t.buffMove)-s:t.moveY=t.distY}t.refresh(t.moveX,t.moveY,"0s","ease")},reset:function(){var t=this;if(t.height<0)t.newY=-Math.round(t.element.offsetHeight-t.imgBaseHeight)/2;else{var e=Math.round((t.wrapY-t.imgBaseHeight)/2),i=t.element.offsetHeight-t.wrapY+Math.round(t.wrapY-t.imgBaseHeight)/2;t.distY>=-e?t.newY=-e:t.distY<=-i?t.newY=-i:t.newY=t.distY}t.refresh(t.newX,t.newY,".2s","ease-in-out")},refresh:function(t,e,s,n){this.element.style.webkitTransitionProperty="-webkit-transform",this.element.style.webkitTransitionDuration=s,this.element.style.webkitTransitionTimingFunction=n,this.element.style.webkitTransform=i(t,e)},getTouchDist:function(t){var e=0,i=0,s=0,o=0,a=0,r=0;if(e=t.touches[0].pageX,s=t.touches[1].pageX,i=t.touches[0].pageY-n.body.scrollTop,o=t.touches[1].pageY-n.body.scrollTop,e&&s)return a=e<=s?(s-e)/2+e:(e-s)/2+s,r=i<=o?(o-i)/2+i:(i-o)/2+o,{dist:Math.round(Math.sqrt(Math.pow(e-s,2)+Math.pow(i-o,2))),x:Math.round(a),y:Math.round(r)}},eventStop:function(t){t.preventDefault(),t.stopPropagation()}},t.ImagesZoom=new a}(this);/*  |xGv00|048145d922795cce5087af4a4544fdae */